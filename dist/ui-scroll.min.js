/*!
 * angular-ui-scroll
 * https://github.com/angular-ui/ui-scroll.git
 * Version: 1.4.1 -- 2016-04-18T22:35:24.296Z
 * License: MIT
 */
!function(){!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b,c,d,e){function f(a,b){if(angular.isArray(b)){var c=void 0,e=d.indexOf(a)+1;b.reverse().forEach(function(b){b===a.item?(c=!0,e--):d.insert(e,b)}),c||(a.op="remove")}}var g=c.scope()||$rootScope,h=b.topVisible?a(b.topVisible).assign:angular.noop,i=b.topVisibleElement?a(b.topVisibleElement).assign:angular.noop,j=b.topVisibleScope?a(b.topVisibleScope).assign:angular.noop,k=b.isLoading?a(b.isLoading).assign:angular.noop;this.isLoading=!1,this.applyUpdates=function(a,b){if(angular.isFunction(a))d.slice(0).forEach(function(b){f(b,a(b.item,b.scope,b.element))});else{if(a%1!==0)throw new Error("applyUpdates - "+a+" is not a valid index");var c=a-d.first;c>=0&&c<d.length&&f(d[c],b)}e()},this.append=function(a){d.append(a),e()},this.prepend=function(a){d.prepend(a),e()},this.loading=function(a){this.isLoading=a,k(g,a)},this.calculateProperties=function(){var a=void 0,b=void 0,e=void 0,f=void 0,k=void 0,l=void 0,m=0;for(a=0;a<d.length;a++){if(b=d[a],f=b.element.offset().top,k=l!==f,l=f,k&&(e=b.element.outerHeight(!0)),!(k&&c.topDataPos()+m+e<=c.topVisiblePos())){k&&(this.topVisible=b.item,this.topVisibleElement=b.element,this.topVisibleScope=b.scope,h(g,b.item),i(g,b.element),j(g,b.scope));break}m+=e}}}c.__esModule=!0,c["default"]=d,b.exports=c["default"]},{}],2:[function(a,b,c){"use strict";function d(a,b,c,d,e){var f=Object.create(Array.prototype);return angular.extend(f,{size:e,reset:function(a){f.remove(0,f.length),f.eof=!1,f.bof=!1,f.first=a,f.next=a,f.minIndex=a,f.maxIndex=a,f.minIndexUser=null,f.maxIndexUser=null},append:function(a){a.forEach(function(a){++f.next,f.insert("append",a)})},prepend:function(a){a.reverse().forEach(function(a){--f.first,f.insert("prepend",a)})},insert:function(a,e){var g=c.$new(),h={item:e,scope:g};if(g[b]=e,d(g,function(a){return h.element=a}),a%1===0)h.op="insert",f.splice(a,0,h);else switch(h.op=a,a){case"append":f.push(h);break;case"prepend":f.unshift(h)}},remove:function(b,c){if(angular.isNumber(b)){for(var d=b;c>d;d++)a.removeElement(f[d]);return f.splice(b,c-b)}return f.splice(f.indexOf(b),1),a.removeElementAnimated(b)},setUpper:function(){f.maxIndex=f.eof?f.next-1:Math.max(f.next-1,f.maxIndex)},setLower:function(){f.minIndex=f.bof?f.minIndex=f.first:Math.min(f.first,f.minIndex)}}),f}c.__esModule=!0,c["default"]=d,b.exports=c["default"]},{}],3:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(b){d(this,a),this.$animate=b.has&&b.has("$animate")?b.get("$animate"):null,this.isAngularVersionLessThen1_3=1===angular.version.major&&angular.version.minor<3}return a.prototype.insertElement=function(a,b){return b.after(a),[]},a.prototype.removeElement=function(a){return a.element.remove(),a.scope.$destroy(),[]},a.prototype.insertElementAnimated=function(a,b){var c=this;if(!this.$animate)return insertElement(a,b);if(this.isAngularVersionLessThen1_3){var d=function(){var d=$q.defer();return c.$animate.enter(a,null,b,function(){return d.resolve()}),{v:[d.promise]}}();if("object"==typeof d)return d.v}return[this.$animate.enter(a,null,b)]},a.prototype.removeElementAnimated=function(a){var b=this;if(!this.$animate)return removeElement(a);if(this.isAngularVersionLessThen1_3){var c=function(){var c=$q.defer();return b.$animate.leave(a.element,function(){return a.scope.$destroy(),c.resolve()}),{v:[c.promise]}}();if("object"==typeof c)return c.v}return[this.$animate.leave(a.element).then(function(){return a.scope.$destroy()})]},a}();c["default"]=e,b.exports=c["default"]},{}],4:[function(a,b,c){"use strict";function d(){var a=Object.create(Array.prototype);return angular.extend(a,{add:function(b){for(var c=a.length-1;c>=0;c--)if(a[c].index===b.scope.$index)return void(a[c].height=b.element.outerHeight());a.push({index:b.scope.$index,height:b.element.outerHeight()})},clear:function(){a.length=0}}),a}function e(a){var b=void 0;switch(a.tagName){case"dl":throw new Error("ui-scroll directive does not support <"+a.tagName+"> as a repeating tag: "+a.outerHTML);case"tr":var c=angular.element("<table><tr><td><div></div></td></tr></table>");b=c.find("tr");break;case"li":b=angular.element("<li></li>");break;default:b=angular.element("<div></div>")}return b.cache=new d,b}c.__esModule=!0,c["default"]=e,b.exports=c["default"]},{}],5:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c,d,e){function f(){return l.outerHeight()*Math.max(h,+e.padding||i)}var h=.3,i=.5,j=null,k=null,l=d[0]&&d[0].viewport?d[0].viewport:angular.element(window);return l.css({"overflow-y":"auto",display:"block"}),angular.extend(l,{createPaddingElements:function(a){j=new g["default"](a),k=new g["default"](a),c.before(j),c.after(k)},bottomDataPos:function(){var a=l[0].scrollHeight;return a=null!=a?a:l[0].document.documentElement.scrollHeight,a-k.height()},topDataPos:function(){return j.height()},bottomVisiblePos:function(){return l.scrollTop()+l.outerHeight()},topVisiblePos:function(){return l.scrollTop()},insertElement:function(b,c){return a.insertElement(b,c||j)},insertElementAnimated:function(b,c){return a.insertElementAnimated(b,c||j)},shouldLoadBottom:function(){return!b.eof&&l.bottomDataPos()<l.bottomVisiblePos()+f()},clipBottom:function(){for(var a=0,c=0,d=0,e=l.bottomDataPos()-l.bottomVisiblePos()-f(),g=b.length-1;g>=0&&(d=b[g].element.outerHeight(!0),!(c+d>e));g--)k.cache.add(b[g]),c+=d,a++;a>0&&(b.eof=!1,b.remove(b.length-a,b.length),b.next-=a,l.adjustPadding())},shouldLoadTop:function(){return!b.bof&&l.topDataPos()>l.topVisiblePos()-f()},clipTop:function(){for(var a=0,c=0,d=0,e=l.topVisiblePos()-l.topDataPos()-f(),g=0;g<b.length&&(d=b[g].element.outerHeight(!0),!(c+d>e));g++)j.cache.add(b[g]),c+=d,a++;a>0&&(j.height(j.height()+c),b.bof=!1,b.remove(0,a),b.first+=a)},adjustPadding:function(a){if(b.length){var c=0,d=0;if(j.cache.length)for(var e=j.cache.length-1;e>=0;e--)j.cache[e].index<b.first&&(c+=j.cache[e].height);if(k.cache.length)for(var e=k.cache.length-1;e>=0;e--)k.cache[e].index>=b.next&&(d+=k.cache[e].height);var f=0,g=0,h=b.minIndexUser&&b.minIndex>b.minIndexUser,i=b.maxIndexUser&&b.maxIndex<b.maxIndexUser;if(h||i){for(var m=0,e=b.length-1;e>=0;e--)m+=b[e].element.outerHeight(!0);var n=(m+c+d)/(b.maxIndex-b.minIndex+1);f=h?(b.minIndex-b.minIndexUser)*n:0,g=i?(b.maxIndexUser-b.maxIndex)*n:0}var o=j.height();if(j.height(c+f),k.height(d+g),a&&h&&f){var p=j.height()-o;l.scrollTop(l.scrollTop()+p)}}},adjustScrollTopAfterPrepend:function(a){var b=j.height()-a;b>=0?j.height(b):(j.height(0),l.scrollTop(l.scrollTop()-b))},resetTopPadding:function(){j.height(0),j.cache.clear()},resetBottomPadding:function(){k.height(0),k.cache.clear()}}),l}c.__esModule=!0,c["default"]=e;var f=a("./padding"),g=d(f);b.exports=c["default"]},{"./padding":4}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a("./modules/elementRoutines.js"),f=d(e),g=a("./modules/buffer.js"),h=d(g),i=a("./modules/viewport.js"),j=d(i),k=a("./modules/adapter.js"),l=d(k);angular.module("ui.scroll",[]).directive("uiScrollViewport",function(){return{controller:["$scope","$element",function(a,b){return this.viewport=b,this}]}}).directive("uiScroll",["$log","$injector","$rootScope","$timeout","$q","$parse",function(a,b,c,d,e,g){function i(a,i,k){var m=i.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/);if(!m)throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+i.uiScroll+"'");var n=m[1],o=m[2],p=Math.max(3,+i.bufferSize||10),q=+i.startIndex||1;return function(a,i,m,r,s){function t(){M.bind("resize",F),M.bind("scroll",F)}function u(){M.unbind("resize",F),M.unbind("scroll",F)}function v(){I++,J=[]}function w(){v(),M.resetTopPadding(),M.resetBottomPadding(),arguments.length&&(q=arguments[0]),L.reset(q),C(I)}function x(a){return a.element.height()&&a.element[0].offsetParent}function y(a){x(a)&&(L.forEach(function(a){angular.isFunction(a.unregisterVisibilityWatcher)&&(a.unregisterVisibilityWatcher(),delete a.unregisterVisibilityWatcher)}),C())}function z(a,b){return M.insertElement(a.element,b),x(a)?!0:(a.unregisterVisibilityWatcher=a.scope.$watch(function(){return y(a)}),!1)}function A(a){function b(a){return a>0?L[a-1].element:void 0}var c=!1,d=[],f=[],g=[];if(L.forEach(function(a,e){switch(a.op){case"prepend":f.unshift(a);break;case"append":c=z(a,b(e))||c,a.op="none";break;case"insert":d=d.concat(M.insertElementAnimated(a.element,b(e))),a.op="none";break;case"remove":g.push(a)}}),g.forEach(function(a){return d=d.concat(L.remove(a))}),f.length){var h=0;f.forEach(function(a){c=z(a)||c,a.op="none",h+=a.element.outerHeight(!0)}),M.adjustScrollTopAfterPrepend(h)}return L.forEach(function(a,b){return a.scope.$index=L.first+b}),d.length?e.all(d).then(function(){return M.adjustPadding(),C(a)}):M.adjustPadding(),c}function B(a,b){M.shouldLoadBottom()&&b?1===J.push(!0)&&(E(a),N.loading(!0)):M.shouldLoadTop()&&(b||J[0])&&1===J.push(!1)&&(E(a),N.loading(!0))}function C(a){d(function(){A(a),B(a,!0),J.length||N.calculateProperties()})}function D(a){d(function(){B(a,A(a)),J.shift(),J.length?E(a):(N.loading(!1),t(),N.calculateProperties())})}function E(b){J[0]?L.length&&!M.shouldLoadBottom()?D(b):Q(function(c){b&&b!==I||a.$$destroyed||(c.length<p&&(L.eof=!0),c.length>0&&(M.clipTop(),L.append(c),L.setUpper()),D(b))}):L.length&&!M.shouldLoadTop()?D(b):R(function(c){b&&b!==I||a.$$destroyed||(c.length<p&&(L.bof=!0),c.length>0&&(L.length&&M.clipBottom(),L.prepend(c),L.setLower()),D(b))})}function F(){c.$$phase||N.isLoading||(B(I,!0),J.length?u():(N.calculateProperties(),a.$apply()))}function G(a){var b=M[0].scrollTop,c=M[0].scrollHeight-M[0].clientHeight;(0===b&&!L.bof||b===c&&!L.eof)&&a.preventDefault()}s=s||k;var H=function(){var c=function(){return angular.isObject(d)&&angular.isFunction(d.get)},d=g(o)(a);if(!c()&&(d=b.get(o),!c()))throw new Error(o+" is not a valid datasource");var e=Object.getOwnPropertyDescriptor(d,"minIndex");e&&(e.set||e.get)||Object.defineProperty(d,"minIndex",{set:function(a){this._minIndex=a,O(a)},get:function(){return this._minIndex}});var f=Object.getOwnPropertyDescriptor(d,"maxIndex");return f&&(f.set||f.get)||Object.defineProperty(d,"maxIndex",{set:function(a){this._maxIndex=a,P(a)},get:function(){return this._maxIndex}}),d}(),I=0,J=[],K=new f["default"](b),L=new h["default"](K,n,a,s,p),M=new j["default"](K,L,i,r,m),N=new l["default"](g,m,M,L,function(){v(),C(I)}),O=function(a){d(function(){L.minIndexUser=a,J.length||M.adjustPadding(!0)})},P=function(a){d(function(){L.maxIndexUser=a,J.length||M.adjustPadding()})},Q=function(){return 2!==H.get.length?function(a){return H.get(L.next,p,a)}:function(a){H.get({index:L.next,append:L.length?L[L.length-1].item:void 0,count:p},a)}}(),R=function(){return 2!==H.get.length?function(a){return H.get(L.first-p,p,a)}:function(a){H.get({index:L.first-p,prepend:L.length?L[0].item:void 0,count:p},a)}}();if(m.adapter){var S=g(m.adapter)(a);angular.isObject(S)||(g(m.adapter).assign(a,{}),S=g(m.adapter)(a)),N=angular.extend(S,N)}s(a.$new(),function(a,b){M.createPaddingElements(a[0]),b.$destroy(),a.remove()}),N.reload=w,a.$on("$destroy",function(){u(),M.unbind("mousewheel",G)}),M.bind("mousewheel",G),w()}}return{require:["?^uiScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:i}}])},{"./modules/adapter.js":1,"./modules/buffer.js":2,"./modules/elementRoutines.js":3,"./modules/viewport.js":5}]},{},[6])}();