!function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([,function(e,t,n){"use strict";function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"registerFor",value:function(n){var h,r,p,m;function t(e,t,n){var r=e[0],i=g({top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[t],3),o=i[0],a=i[1],u=i[2],s=void 0!==n;return m(r)?s?r.scrollTo(e[u].call(e),n):a in r?r[a]:r.document.documentElement[o]:(s&&(r[o]=n),r[o])}function i(e,t,n){var r,i=function(e,t){var n,r,i,o,a,u,s,l,c,f;if(m(e))return{base:n=document.documentElement[{height:"clientHeight",width:"clientWidth"}[t]],padding:0,border:0,margin:0};var d=g({width:[e.offsetWidth,"Left","Right"],height:[e.offsetHeight,"Top","Bottom"]}[t],3);return n=d[0],s=d[1],l=d[2],u=p(e),c=h(e,u["padding"+s])||0,f=h(e,u["padding"+l])||0,r=h(e,u["border"+s+"Width"])||0,i=h(e,u["border"+l+"Width"])||0,o=u["margin"+s],a=u["margin"+l],{base:n,padding:c+f,border:r+i,margin:(h(e,o)||0)+(h(e,a)||0)}}(e,t);return 0<i.base?{base:i.base-i.padding-i.border,outer:i.base,outerfull:i.base+i.margin}[n]:(((r=p(e)[t])<0||null===r)&&(r=e.style[t]||0),{base:(r=parseFloat(r)||0)-i.padding-i.border,outer:r,outerfull:r+i.padding+i.border+i.margin}[n])}return r=angular.element.prototype.css,n.prototype.css=function(e,t){var n=this[0];if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style)return r.call(this,e,t)},m=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},h=window.getComputedStyle?(p=function(e){return window.getComputedStyle(e,null)},function(e,t){return parseFloat(t)}):(p=function(e){return e.currentStyle},function(e,t){var n,r,i,o,a;return new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i").test(t)?(n=(a=e.style).left,o=(i=e.runtimeStyle)&&i.left,i&&(i.left=a.left),a.left=t,r=a.pixelLeft,a.left=n,o&&(i.left=o),r):parseFloat(t)}),angular.forEach({before:function(e){var t,n,r,i,o,a;if(n=this[0],(t=(o=this.parent()).contents())[0]===n)return o.prepend(e);for(r=i=1,a=t.length-1;1<=a?i<=a:a<=i;r=1<=a?++i:--i)if(t[r]===n)return void angular.element(t[r-1]).after(e);throw new Error("invalid DOM structure "+n.outerHTML)},height:function(e){return this,void 0!==e?(angular.isNumber(e)&&(e+="px"),r.call(this,"height",e)):i(this[0],"height","base")},outerHeight:function(e){return i(this[0],"height",e?"outerfull":"outer")},outerWidth:function(e){return i(this[0],"width",e?"outerfull":"outer")},offset:function(e){var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(arguments.length){if(void 0===e)return this;throw new Error("offset setter method is not implemented")}if(o)return t=o.documentElement,null!=i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=o.defaultView||o.parentWindow,{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},scrollTop:function(e){return t(this,"top",e)},scrollLeft:function(e){return t(this,"left",e)}},function(e,t){if(!n.prototype[t])return n.prototype[t]=e})}}])&&i(t.prototype,n),r&&i(t,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var u="ng-ui-scroll-hide",Z=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.$animate=e.has&&e.has("$animate")?e.get("$animate"):null,this.isAngularVersionLessThen1_3=1===angular.version.major&&angular.version.minor<3,this.$q=t}return a(n,null,[{key:"addCSSRules",value:function(){var t,e="."+u,n="display: none",r=document.styleSheets[0];try{t=r.cssRules.length}catch(e){t=0}"insertRule"in r?r.insertRule(e+"{"+n+"}",t):"addRule"in r&&r.addRule(e,n,t)}}]),a(n,[{key:"hideElement",value:function(e){e.element.addClass(u)}},{key:"showElement",value:function(e){e.element.removeClass(u)}},{key:"insertElement",value:function(e,t){return t.after(e),[]}},{key:"removeElement",value:function(e){return e.element.remove(),e.scope.$destroy(),[]}},{key:"insertElementAnimated",value:function(e,t){if(!this.$animate)return this.insertElement(e,t);if(this.isAngularVersionLessThen1_3){var n=this.$q.defer();return this.$animate.enter(e,null,t,function(){return n.resolve()}),[n.promise]}return[this.$animate.enter(e,null,t)]}},{key:"removeElementAnimated",value:function(e){if(!this.$animate)return this.removeElement(e);if(this.isAngularVersionLessThen1_3){var t=this.$q.defer();return this.$animate.leave(e.element,function(){return e.scope.$destroy(),t.resolve()}),[t.promise]}return[this.$animate.leave(e.element).then(function(){return e.scope.$destroy()})]}}]),n}();function ee(r,e,t,i){var o=Object.create(Array.prototype);return angular.extend(o,{size:e,reset:function(e){o.remove(0,o.length),o.eof=!1,o.bof=!1,o.first=e,o.next=e,o.minIndex=e,o.maxIndex=e,o.minIndexUser=null,o.maxIndexUser=null},resetStartIndex:function(e){o.remove(0,o.length),o.eof=o.eof&&e==o.maxIndex,o.bof=o.bof&&e==o.maxIndex,o.first=e,o.next=e},append:function(e){e.forEach(function(e){++o.next,o.insert("append",e)}),o.maxIndex=o.eof?o.next-1:Math.max(o.next-1,o.maxIndex)},prepend:function(e){e.reverse().forEach(function(e){--o.first,o.insert("prepend",e)}),o.minIndex=o.bof?o.minIndex=o.first:Math.min(o.first,o.minIndex)},insert:function(e,t,n){var r={item:t};if(e%1==0)r.op="insert",o.splice(e,0,r),n?o.first--:o.next++;else switch(r.op=e){case"append":o.push(r);break;case"prepend":o.unshift(r)}},remove:function(e,t){if(angular.isNumber(e)){for(var n=e;n<t;n++)r.removeElement(o[n]);return o.splice(e,t-e)}return o.splice(o.indexOf(e),1),"isTop"===e._op&&o.first===this.getAbsMinIndex()?this.incrementMinIndex():this.decrementMaxIndex(),"isTop"===e._op?o.first++:o.next--,o.length||(o.first=1,o.next=1),r.removeElementAnimated(e)},incrementMinIndex:function(){if(null!==o.minIndexUser){if(o.minIndex>o.minIndexUser)return void o.minIndexUser++;o.minIndex===o.minIndexUser&&o.minIndexUser++}o.minIndex++},decrementMaxIndex:function(){null!==o.maxIndexUser&&o.maxIndex<=o.maxIndexUser&&o.maxIndexUser--,o.maxIndex--},getAbsMinIndex:function(){return null!==o.minIndexUser?Math.min(o.minIndexUser,o.minIndex):o.minIndex},getAbsMaxIndex:function(){return null!==o.maxIndexUser?Math.max(o.maxIndexUser,o.maxIndex):o.maxIndex},effectiveHeight:function(e){if(!e.length)return 0;var t=Number.MAX_VALUE,n=Number.NEGATIVE_INFINITY;return e.forEach(function(e){e.element[0].offsetParent&&(t=Math.min(t,e.element.offset().top),n=Math.max(n,e.element.offset().top+(i||e.element.outerHeight(!0))))}),Math.max(0,n-t)},getItems:function(){return o.filter(function(e){return"none"===e.op})},getFirstItem:function(){var e=o.getItems();return e.length?e[0].item:null},getLastItem:function(){var e=o.getItems();return e.length?e[e.length-1].item:null}}),o.reset(t),o}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var f=function(){function e(){s(this,e)}return c(e,[{key:"add",value:function(e){for(var t=this.length-1;0<=t;t--)if(this[t].index===e.scope.$index)return void(this[t].height=e.element.outerHeight());this.push({index:e.scope.$index,height:e.element.outerHeight()}),this.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0})}},{key:"remove",value:function(e,t){for(var n=e%1==0?e:e.scope.$index,r=e%1==0?t:"isTop"===e._op,i=this.length-1;0<=i;i--)if(this[i].index===n){this.splice(i,1);break}if(!r)for(var o=this.length-1;0<=o;o--)this[o].index>n&&this[o].index--}},{key:"clear",value:function(){this.length=0}}]),e}();function d(){var e=[];return e.push.apply(e,arguments),Object.setPrototypeOf(e,d.prototype),e}d.prototype=Object.create(Array.prototype),Object.getOwnPropertyNames(f.prototype).forEach(function(e){return d.prototype[e]=f.prototype[e]});var v=function(){function n(e,t){s(this,n),this.element=function(e){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("ui-scroll directive requires an Element node for templating the view");var t;switch(e.tagName.toLowerCase()){case"dl":throw new Error("ui-scroll directive does not support <".concat(e.tagName,"> as a repeating tag: ").concat(e.outerHTML));case"tr":t=angular.element("<table><tr><td><div></div></td></tr></table>").find("tr");break;case"li":t=angular.element("<li></li>");break;default:t=angular.element("<div></div>")}return t}(e),t&&(this.cache=new d)}return c(n,[{key:"height",value:function(){return this.element.height.apply(this.element,arguments)}}]),n}();function te(n,d,t,e,r,i,h){var p=null,m=null,o=e&&e.viewport?e.viewport:angular.element(window),a=e&&e.container?e.container:void 0,u=e&&e.scope?e.scope:r;function s(){return o.outerHeight()*i}return o.css({"overflow-anchor":"none","overflow-y":"auto",display:"block"}),angular.extend(o,{getScope:function(){return u},createPaddingElements:function(e){p=new v(e,!h),m=new v(e,!h),t.before(p.element),t.after(m.element),p.height(0),m.height(0)},applyContainerStyle:function(){return!a||(a!==o&&o.css("height",window.getComputedStyle(a[0]).height),0<o.height())},bottomDataPos:function(){var e=o[0].scrollHeight;return(e=null!=e?e:o[0].document.documentElement.scrollHeight)-m.height()},topDataPos:function(){return p.height()},bottomVisiblePos:function(){return o.scrollTop()+o.outerHeight()},topVisiblePos:function(){return o.scrollTop()},insertElement:function(e,t){return n.insertElement(e,t||p.element)},insertElementAnimated:function(e,t){return n.insertElementAnimated(e,t||p.element)},shouldLoadBottom:function(){return!d.eof&&o.bottomDataPos()<o.bottomVisiblePos()+s()},clipBottom:function(){var e=0,t=o.bottomDataPos()-o.bottomVisiblePos()-s();if(h)e=Math.min(d.length,Math.floor(t/h));else for(var n=0,r=0,i=d.length-1;0<=i&&!(t<r+(n=d[i].element.outerHeight(!0)));i--)m.cache.add(d[i]),r+=n,e++;0<e&&(d.eof=!1,d.remove(d.length-e,d.length),d.next-=e,o.adjustPaddings())},shouldLoadTop:function(){return!d.bof&&o.topDataPos()>o.topVisiblePos()-s()},clipTop:function(){var e=0,t=0,n=o.topVisiblePos()-o.topDataPos()-s();if(h)t=(e=Math.min(d.length,Math.floor(n/h)))*h;else for(var r=0,i=0;i<d.length&&!(n<t+(r=d[i].element.outerHeight(!0)));i++)p.cache.add(d[i]),t+=r,e++;0<e&&(p.height(p.height()+t),d.bof=!1,d.remove(0,e),d.first+=e)},scrollTo:function(e){if(h){e=Math.min(e,d.maxIndex),e=Math.max(e,d.minIndex);var t=d.getAbsMinIndex(),n=d.getAbsMaxIndex();p.height((e-t)*h),m.height((n+1-e)*h),d.resetStartIndex(e)}else d.resetStartIndex(e),o.adjustPaddings()},adjustPaddings:function(){if(h){var e=d.getAbsMinIndex(),t=d.getAbsMaxIndex();return p.height((d.first-e)*h),void m.height((t+1-d.next)*h)}if(d.length){var n=d.reduce(function(e,t){return e+t.element.outerHeight(!0)},0),r=0,i=0;p.cache.forEach(function(e){e.index<d.first&&(r+=e.height,i++)});var o=0,a=0;m.cache.forEach(function(e){e.index>=d.next&&(o+=e.height,a++)});var u=(n+r+o)/(i+a+d.length),s=null!==d.minIndexUser&&d.minIndex>d.minIndexUser,l=null!==d.maxIndexUser&&d.maxIndex<d.maxIndexUser,c=s?(d.minIndex-d.minIndexUser)*u:0,f=l?(d.maxIndexUser-d.maxIndex)*u:0;p.height(r+c),m.height(o+f)}},onAfterMinIndexSet:function(e){if(null!==d.minIndexUser&&d.minIndex>d.minIndexUser){var t=p.height()-e;for(o.scrollTop(o.scrollTop()+t);0<(t-=o.scrollTop());)m.height(m.height()+t),o.scrollTop(o.scrollTop()+t)}},onAfterPrepend:function(e){if(e.prepended.length){var t=d.effectiveHeight(e.prepended),n=p.height()-t;0<=n?p.height(n):(p.height(0),o.scrollTop(o.scrollTop()-n))}},resetTopPadding:function(){p.height(0),p.cache&&p.cache.clear()},resetBottomPadding:function(){m.height(0),m.cache&&m.cache.clear()},removeCacheItem:function(e,t){p.cache&&p.cache.remove(e,t),m.cache&&m.cache.remove(e,t)},removeItem:function(e){return this.removeCacheItem(e),d.remove(e)}}),o}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ne=function(){function s(e,t,n,r,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.$parse=t,this.$attr=n,this.viewport=r,this.buffer=i,this.doAdjust=o,this.reload=a,this.isLoading=!1,this.disabled=!1;var u=r.getScope();this.startScope=u.$parent?u:e,this.publicContext={},this.assignAdapter(n.adapter),this.generatePublicContext()}var e,t,n;return e=s,(t=[{key:"assignAdapter",value:function(t){if(t&&(t=t.replace(/^\s+|\s+$/gm,""))){var e;try{this.$parse(t).assign(this.startScope,{}),e=this.$parse(t)(this.startScope)}catch(e){throw e.message="Angular ui-scroll Adapter assignment exception.\n"+"Can't parse \"".concat(t,'" expression.\n')+e.message,e}angular.extend(e,this.publicContext),this.publicContext=e}}},{key:"generatePublicContext",value:function(){for(var i=this,e=["reload","applyUpdates","append","prepend","isBOF","isEOF","isEmpty"],t=e.length-1;0<=t;t--)this.publicContext[e[t]]=this[e[t]].bind(this);for(var o=["isLoading","topVisible","topVisibleElement","topVisibleScope","bottomVisible","bottomVisibleElement","bottomVisibleScope"],n=function(t){var n=void 0,r=i.$attr[o[t]];Object.defineProperty(i,o[t],{get:function(){return n},set:function(e){n=e,i.publicContext[o[t]]=e,r&&i.$parse(r).assign(i.startScope,e)}})},r=o.length-1;0<=r;r--)n(r);for(var a=["bufferFirst","bufferLast","bufferLength"],u=function(e){Object.defineProperty(i.publicContext,a[e],{get:function(){return i[a[e]]}})},s=a.length-1;0<=s;s--)u(s);Object.defineProperty(this.publicContext,"disabled",{get:function(){return i.disabled},set:function(e){return(i.disabled=e)?null:i.doAdjust()}})}},{key:"loading",value:function(e){this.isLoading=e}},{key:"isBOF",value:function(){return this.buffer.bof}},{key:"isEOF",value:function(){return this.buffer.eof}},{key:"isEmpty",value:function(){return!this.buffer.length}},{key:"append",value:function(e){this.buffer.append(e),this.doAdjust(),this.viewport.clipTop(),this.viewport.clipBottom()}},{key:"prepend",value:function(e){this.buffer.prepend(e),this.doAdjust(),this.viewport.clipTop(),this.viewport.clipBottom()}},{key:"applyUpdates",value:function(e,t,n){"function"==typeof e?this.applyUpdatesFunc(e,t):this.applyUpdatesIndex(e,t,n),this.doAdjust()}},{key:"applyUpdatesFunc",value:function(t,n){var r=this;this.buffer.slice(0).forEach(function(e){r.applyUpdate(e,t(e.item,e.scope,e.element),n)})}},{key:"applyUpdatesIndex",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(e%1!=0)throw new Error("applyUpdates - "+e+" is not a valid index (should be an integer)");var r=e-this.buffer.first;0<=r&&r<this.buffer.length?this.applyUpdate(this.buffer[r],t,n):e>=this.buffer.getAbsMinIndex()&&e<=this.buffer.getAbsMaxIndex()&&angular.isArray(t)&&!t.length&&(this.viewport.removeCacheItem(e,!n.immutableTop&&e===this.buffer.minIndex),n.immutableTop||e!==this.buffer.getAbsMinIndex()?this.buffer.decrementMaxIndex():this.buffer.incrementMinIndex())}},{key:"applyUpdate",value:function(t,e){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(angular.isArray(e)){var i=this.buffer.indexOf(t);e.reverse().some(function(e){return e===t.item})||(t.op="remove",r.immutableTop||0!==i||e.length||(t._op="isTop")),e.forEach(function(e){e===t.item?i--:n.buffer.insert(i+1,e,!r.immutableTop&&-1===i)})}}},{key:"calculateProperties",value:function(){for(var e=null,t=0,n=!1,r=!1,i=this.buffer.length,o=0;o<i;o++){var a=this.buffer[o],u=a.element.offset().top;if(e!==u){var s=a.element.outerHeight(!0),l=this.viewport.topDataPos()+t+s;!n&&l>this.viewport.topVisiblePos()&&(n=!0,this.topVisible=a.item,this.topVisibleElement=a.element,this.topVisibleScope=a.scope),!r&&(l>=this.viewport.bottomVisiblePos()||o===i-1&&this.isEOF())&&(r=!0,this.bottomVisible=a.item,this.bottomVisibleElement=a.element,this.bottomVisibleScope=a.scope),t+=s}if(e=u,n&&r)break}}},{key:"bufferLength",get:function(){return this.buffer.getItems().length}},{key:"bufferFirst",get:function(){return this.buffer.getFirstItem()}},{key:"bufferLast",get:function(){return this.buffer.getLastItem()}}])&&h(e.prototype,t),n&&h(e,n),s}();angular.module("ui.scroll",[]).constant("JQLiteExtras",r).run(["JQLiteExtras",function(e){var t=angular.element;!(window.jQuery&&t.fn&&t.fn.jquery)&&(new e).registerFor(t),Z.addCSSRules()}]).directive("uiScrollViewport",function(){return{restrict:"A",controller:["$scope","$element",function(e,t){var n=this;return this.container=t,this.viewport=t,this.scope=e,angular.forEach(t.children(),function(e){"tbody"===e.tagName.toLowerCase()&&(n.viewport=angular.element(e))}),this}]}}).directive("uiScroll",["$log","$injector","$rootScope","$timeout","$interval","$q","$parse",function(e,Q,X,Y,J,G,K){return{require:["?^uiScrollViewport"],restrict:"A",transclude:"element",priority:1e3,terminal:!0,link:function(i,e,t,n,a){var r=t.uiScroll.match(/^\s*(\w+)\s+in\s+([(\w|\$)\.]+)\s*$/);if(!r)throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+t.uiScroll+"'");function o(e,t,n){return n||(e=null===e?t:Math.floor(e)),isNaN(e)?t:e}function u(e,t,n){var r=K(e)(i);return o(r,t,n)}var s=null,l=r[1],c=r[2],f=n[0],d=Math.max(3,u(t.bufferSize,10)),h=Math.max(.3,u(t.padding,.5,!0)),p=u(t.startIndex,1),m=u(t.rowHeight,null,!1),g="false"!==t.allowVisibilityWatch,v=0,b=[],x=new Z(Q,G),y=new ee(x,d,p,m),I=new te(x,y,e,f,X,h,m),w=new ne(i,K,t,I,y,F,function(){O(),I.resetTopPadding(),I.resetBottomPadding(),arguments.length&&(p=o(arguments[0],1,!1));y.reset(p),E=-1,P(s,"minIndex"),P(s,"maxIndex"),F()});f&&(f.adapter=w);var E=-1,T=function(){return"[object Object]"===Object.prototype.toString.call(s)&&"function"==typeof s.get};if(s=K(c)(i),!T()&&(s=Q.get(c),!T()))throw new Error(c+" is not a valid datasource");var $=[];function P(e,t){var n;angular.isNumber(e[t])&&(n=e[t],angular.isNumber(n)&&($=$.filter(function(e){return e.id!==t})).push({id:t,run:function(){return e[t]=n}}))}function M(n,r,i){var o,e=Object.getOwnPropertyDescriptor(n,r);e&&(e.set||e.get)||(P(n,r),Object.defineProperty(n,r,{set:function(e){if(o=e,!b.length||y.length){y[i]=e;var t=I.topDataPos();I.adjustPaddings(),"minIndex"===r&&I.onAfterMinIndexSet(t)}else P(n,r)},get:function(){return o}}))}M(s,"minIndex","minIndexUser"),M(s,"maxIndex","maxIndexUser");var S,k=2!==s.get.length?function(e){return s.get(y.next,d,e)}:function(e){s.get({index:y.next,append:y.length?y[y.length-1].item:void 0,count:d},e)},A=2!==s.get.length?function(e){return s.get(y.first-d,d,e)}:function(e){s.get({index:y.first-d,prepend:y.length?y[0].item:void 0,count:d},e)};function j(e){return e&&e!==v||i.$$destroyed}function O(){I.unbind("resize",W),I.unbind("scroll",W)}function L(e){O(),I.scrollTo(e),F()}function U(e){return(m||e.element.height())&&e.element[0].offsetParent}function V(e,t){C(e,t,I.insertElement),g&&!U(e)&&(e.unregisterVisibilityWatcher=e.scope.$watch(function(){U(e)&&(y.forEach(function(e){"function"==typeof e.unregisterVisibilityWatcher&&(e.unregisterVisibilityWatcher(),delete e.unregisterVisibilityWatcher)}),b.length||Y(function(){return F()}))})),g&&x.hideElement(e)}function C(n,e,r){var i=null,o=0<e?y[e-1].element:void 0;if(a(function(e,t){i=r(e,o),n.element=e,(n.scope=t)[l]=n.item}),w.transform){var t=n.scope.uiScrollTdInitializer;t&&t.linking?w.transform(n.scope,n.element):n.scope.uiScrollTdInitializer={onLink:function(){return w.transform(n.scope,n.element)},scope:n.scope}}return i}function H(e,t){t.animated.length?G.all(t.animated).then(function(){I.adjustPaddings(),F(e)}):I.adjustPaddings()}function _(e,t){R()||(I.shouldLoadBottom()?(!t||0<y.effectiveHeight(t.inserted))&&1===b.push(!0)&&(w.loading(!0),D(e)):I.shouldLoadTop()&&(!t||0<y.effectiveHeight(t.prepended)||b[0])&&1===b.push(!1)&&(w.loading(!0),D(e)))}function N(){var e=function(){var n=[],r=[],i=[],o=[];y.forEach(function(e,t){switch(e.op){case"prepend":r.unshift(e);break;case"append":V(e,t),e.op="none",o.push(e);break;case"insert":n=n.concat(C(e,t,I.insertElementAnimated)),e.op="none",o.push(e);break;case"remove":i.push(e)}}),i.forEach(function(e){return n=n.concat(I.removeItem(e))}),r.length&&r.forEach(function(e){V(e),e.op="none"});return y.forEach(function(e,t){return e.scope.$index=y.first+t}),{prepended:r,removed:i,inserted:o,animated:n}}(),t=e.animated.length+e.inserted.length+e.prepended.length+e.removed.length;return!t&&m||!i.$$phase&&!X.$$phase&&i.$digest(),g&&(e.inserted.forEach(function(e){return x.showElement(e)}),e.prepended.forEach(function(e){return x.showElement(e)})),e}function F(e){e||(b=[],e=++v);var t=N();j(e)||(H(e,t),_(e),b.length||w.calculateProperties())}function B(e){var t=N();I.onAfterPrepend(t),j(e)||(H(e,t),$.forEach(function(e){return e.run()}),$=[],_(e,t),b.shift(),b.length?D(e):(w.loading(!1),I.bind("resize",W),I.bind("scroll",W),R()&&q(),w.calculateProperties()))}function D(t){b[0]?y.length&&!I.shouldLoadBottom()?B(t):k(function(e){j(t)||(e.length<d&&(y.eof=!0),0<e.length&&(I.clipTop(),y.append(e)),B(t))}):y.length&&!I.shouldLoadTop()?B(t):A(function(e){j(t)||(e.length<d&&(y.bof=!0),0<e.length&&(y.length&&I.clipBottom(),y.prepend(e)),B(t))})}function R(){if(m){var e=I.scrollTop();if(e!=E&&0<=E)return!0}return!1}function W(){m?(S&&clearTimeout(S),S=setTimeout(q,20)):q()}function q(){if(!X.$$phase&&!w.isLoading&&!w.disabled){if(m){E=I.scrollTop();var e=Math.floor(I.scrollTop()/m)+y.minIndex;if((e=Math.max(y.minIndex,Math.min(y.maxIndex,e)))<y.first-d)return void L(e);if(e>=y.next)return void L(e)}_(v),b.length?O():(w.calculateProperties(),m||!i.$$phase&&i.$digest())}}function z(e){if(!w.disabled){var t=I[0].scrollTop,n=I[0].scrollHeight-I[0].clientHeight;(0===t&&!y.bof||t===n&&!y.eof)&&e.preventDefault()}}a(function(e,t){I.createPaddingElements(e[0]),t.$destroy(),e.remove()}),i.$on("$destroy",function(){O(),I.unbind("mousewheel",z)}),I.bind("mousewheel",z),function(){var e=0;if(I.applyContainerStyle())F();else var t=J(function(){if(e++,I.applyContainerStyle()&&(J.cancel(t),F()),500<=50*e)throw J.cancel(t),Error("ui-scroll directive requires a viewport with non-zero height in ".concat(500,"ms"))},50)}()}}}])}]);
//# sourceMappingURL=ui-scroll.min.js.map