/*!
 * angular-ui-scroll
 * https://github.com/angular-ui/ui-scroll.git
 * Version: 1.3.3 -- 2016-03-30T14:54:09.469Z
 * License: MIT
 */
!function(){!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b,c,d,e){function f(a,b){if(angular.isArray(b)){var c=void 0,e=d.indexOf(a)+1;b.reverse().forEach(function(b){b===a.item?(c=!0,e--):d.insert(e,b)}),c||(a.op="remove")}}var g=c.scope()||$rootScope,h=b.topVisible?a(b.topVisible).assign:angular.noop,i=b.topVisibleElement?a(b.topVisibleElement).assign:angular.noop,j=b.topVisibleScope?a(b.topVisibleScope).assign:angular.noop,k=b.isLoading?a(b.isLoading).assign:angular.noop;this.isLoading=!1,this.applyUpdates=function(a,b){if(angular.isFunction(a))d.slice(0).forEach(function(b){f(b,a(b.item,b.scope,b.element))});else{if(a%1!==0)throw new Error("applyUpdates - "+a+" is not a valid index");var c=a-d.first;c>=0&&c<d.length&&f(d[c],b)}e()},this.append=function(a){d.append(a),e()},this.prepend=function(a){d.prepend(a),e()},this.loading=function(a){this.isLoading=a,k(g,a)},this.calculateProperties=function(){var a=void 0,b=void 0,e=void 0,f=void 0,k=void 0,l=void 0,m=0;for(a=0;a<d.length;a++){if(b=d[a],f=b.element.offset().top,k=l!==f,l=f,k&&(e=b.element.outerHeight(!0)),!(k&&c.topDataPos()+m+e<=c.topVisiblePos())){k&&(this.topVisible=b.item,this.topVisibleElement=b.element,this.topVisibleScope=b.scope,h(g,b.item),i(g,b.element),j(g,b.scope));break}m+=e}}}c.__esModule=!0,c.Adapter=d},{}],2:[function(a,b,c){"use strict";function d(a,b,c,d,e){function f(a){g.eof=!1,g.bof=!1,g.first=a,g.next=a,g.minIndex=Number.MAX_VALUE,g.maxIndex=Number.MIN_VALUE}var g=Object.create(Array.prototype);return angular.extend(g,{size:e,append:function(a){a.forEach(function(a){++g.next,g.insert("append",a)})},prepend:function(a){a.reverse().forEach(function(a){--g.first,g.insert("prepend",a)})},insert:function(a,e){var f=c.$new(),h={item:e,scope:f};if(f[b]=e,d(f,function(a){return h.element=a}),a%1===0)h.op="insert",g.splice(a,0,h);else switch(h.op=a,a){case"append":g.push(h);break;case"prepend":g.unshift(h)}},remove:function(b,c){if(angular.isNumber(b)){for(var d=b;c>d;d++)a.removeElement(g[d]);return g.splice(b,c-b)}return g.splice(g.indexOf(b),1),a.removeElementAnimated(b)},setUpper:function(){g.maxIndex=g.eof?g.next-1:Math.max(g.next-1,g.maxIndex)},setLower:function(){g.minIndex=g.bof?g.minIndex=g.first:Math.min(g.first,g.minIndex)},syncDatasource:function(a){var b=g.minIndex-Math.min(g.minIndex,a.minIndex||Number.MAX_VALUE);return a.minIndex=g.minIndex-=b,a.maxIndex=g.maxIndex=Math.max(g.maxIndex,a.maxIndex||Number.MIN_VALUE),b},clear:function(){g.remove(0,g.length),f(arguments.length?arguments[0]:1)}}),f(1),g}c.__esModule=!0,c.Buffer=d},{}],3:[function(a,b,c){"use strict";function d(){var a=Object.create(Array.prototype);return angular.extend(a,{add:function(b){for(var c=a.length-1;c>=0;c--)if(a[c].index===b.scope.$index)return void(a[c].height=b.element.outerHeight());a.push({index:b.scope.$index,height:b.element.outerHeight()})},clear:function(){a.length=0}}),a}c.__esModule=!0,c.Cache=d},{}],4:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(b){d(this,a),this.$animate=b.has&&b.has("$animate")?b.get("$animate"):null,this.isAngularVersionLessThen1_3=1===angular.version.major&&angular.version.minor<3}return a.prototype.insertElement=function(a,b){return b.after(a),[]},a.prototype.removeElement=function(a){return a.element.remove(),a.scope.$destroy(),[]},a.prototype.insertElementAnimated=function(a,b){var c=this;if(!this.$animate)return insertElement(a,b);if(this.isAngularVersionLessThen1_3){var d=function(){var d=$q.defer();return c.$animate.enter(a,null,b,function(){return d.resolve()}),{v:[d.promise]}}();if("object"==typeof d)return d.v}return[this.$animate.enter(a,null,b)]},a.prototype.removeElementAnimated=function(a){var b=this;if(!this.$animate)return removeElement(a);if(this.isAngularVersionLessThen1_3){var c=function(){var c=$q.defer();return b.$animate.leave(a.element,function(){return a.scope.$destroy(),c.resolve()}),{v:[c.promise]}}();if("object"==typeof c)return c.v}return[this.$animate.leave(a.element).then(function(){return a.scope.$destroy()})]},a}();c.ElementRoutines=e},{}],5:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){function g(){return m.outerHeight()*Math.max(h,+f.padding||i)}var h=.3,i=.5,j=null,k=null,l=0,m=e[0]&&e[0].viewport?e[0].viewport:angular.element(window);m.css({"overflow-y":"auto",display:"block"});var n=m.offset()?function(){return m.offset()}:function(){return{top:0}};return angular.extend(m,{createPaddingElements:function(a){function b(a){var b=void 0,c=a.localName;switch(c){case"dl":throw new Error("ui-scroll directive does not support <"+c+"> as a repeating tag: "+a.outerHTML);case"tr":var d=angular.element("<table><tr><td><div></div></td></tr></table>");b=d.find("tr");break;case"li":b=angular.element("<li></li>");break;default:b=angular.element("<div></div>")}return b}j=new b(a),k=new b(a),d.before(j),d.after(k)},bottomDataPos:function(){var a=m[0].scrollHeight;return a=null!=a?a:m[0].document.documentElement.scrollHeight,a-k.height()},topDataPos:function(){return j.height()},bottomVisiblePos:function(){return m.scrollTop()+m.outerHeight()},topVisiblePos:function(){return m.scrollTop()},insertElement:function(b,c){return a.insertElement(b,c||j)},insertElementAnimated:function(b,c){return a.insertElementAnimated(b,c||j)},shouldLoadBottom:function(){return!b.eof&&m.bottomDataPos()<m.bottomVisiblePos()+g()},clipBottom:function(){for(var a=0,d=b.length-1;d>=0&&!(b[d].element.offset().top-n().top<=m.outerHeight()+g());d--)c.add(b[d]),a++;a>0&&(b.eof=!1,b.remove(b.length-a,b.length),b.next-=a,m.adjustPadding())},shouldLoadTop:function(){return!b.bof&&m.topDataPos()>m.topVisiblePos()-g()},clipTop:function(){for(var a=0,d=0,e=0;e<b.length&&!(b[e].element.offset().top-n().top+b[e].element.outerHeight(!0)>=-1*g());e++)c.add(b[e]),d+=b[e].element.outerHeight(!0),a++;a>0&&(j.height(j.height()+d),b.bof=!1,b.remove(0,a),b.first+=a)},adjustPadding:function(){if(b.length&&c.length){for(var a=0,d=0,e=c.length-1;e>=0;e--)c[e].index<b.first&&(a+=c[e].height),c[e].index>=b.next&&(d+=c[e].height);j.height(a),k.height(d)}},syncDatasource:function(a){if(b.length){var c=b[0].element,d=b[b.length-1].element;l=(d.offset().top+d.outerHeight(!0)-c.offset().top)/b.length;var e=b.syncDatasource(a)*l;j.height(j.height()+e),m.scrollTop(m.scrollTop()+e),m.adjustPadding()}},adjustScrollTop:function(a){var b=j.height()-a;b>=0?j.height(b):(j.height(0),m.scrollTop(m.scrollTop()-b))},resetTopPaddingHeight:function(){j.height(0)},resetBottomPaddingHeight:function(){k.height(0)}}),m}c.__esModule=!0,c.Viewport=d},{}],6:[function(a,b,c){"use strict";function d(){return{controller:["$scope","$element",function(a,b){return this.viewport=b,this}]}}c.__esModule=!0,c.uiScrollViewport=d},{}],7:[function(a,b,c){"use strict";c.__esModule=!0;var d=a("./misc/elementRoutines.js"),e=a("./misc/cache.js"),f=a("./misc/buffer.js"),g=a("./misc/viewport.js"),h=a("./misc/adapter.js"),i=["$log","$injector","$rootScope","$timeout","$q","$parse",function(a,b,c,i,j,k){function l(a,l,m){var n=l.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/);if(!n)throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+l.uiScroll+"'");var o=n[1],p=n[2],q=Math.max(3,+l.bufferSize||10);return function(a,l,n,r,s){function t(){N.bind("resize",F),N.bind("scroll",F)}function u(){N.unbind("resize",F),N.unbind("scroll",F)}function v(){I++,J=[]}function w(){v(),N.resetTopPaddingHeight(),N.resetBottomPaddingHeight(),O.abCount=0,O.abfCount=0,O.sCount=0,arguments.length?M.clear(arguments[0]):M.clear(),K.clear(),C(I)}function x(a,b){return O.isLoading||O.loading(!0),1===J.push(b)?E(a):void 0}function y(a){return a.element.height()&&a.element[0].offsetParent}function z(a){y(a)&&(M.forEach(function(a){angular.isFunction(a.unregisterVisibilityWatcher)&&(a.unregisterVisibilityWatcher(),delete a.unregisterVisibilityWatcher)}),C())}function A(a,b){return N.insertElement(a.element,b),y(a)?!0:(a.unregisterVisibilityWatcher=a.scope.$watch(function(){return z(a)}),!1)}function B(a){function b(a){return a>0?M[a-1].element:void 0}var c=!1,d=[],e=[],f=[];if(M.forEach(function(a,g){switch(a.op){case"prepend":e.unshift(a);break;case"append":c=A(a,b(g))||c,a.op="none";break;case"insert":d=d.concat(N.insertElementAnimated(a.element,b(g))),a.op="none";break;case"remove":f.push(a)}}),f.forEach(function(a){return d=d.concat(M.remove(a))}),e.length){var g=0;e.forEach(function(a){c=A(a)||c,a.op="none",g+=a.element.outerHeight(!0)}),N.adjustScrollTop(g)}return M.forEach(function(a,b){return a.scope.$index=M.first+b}),d.length?j.all(d).then(function(){N.adjustPadding(),C(a)}):(N.adjustPadding(),J.length||N.syncDatasource(H)),c}function C(a){return i(function(){O.abCount++,B(a),N.shouldLoadBottom()?x(a,!0):N.shouldLoadTop()&&x(a,!1),J.length||O.calculateProperties()})}function D(a){return i(function(){O.abfCount++;var b=B(a);return N.shouldLoadBottom()&&b?x(a,!0):N.shouldLoadTop()&&(b||J[0])&&x(a,!1),J.shift(),J.length?E(a):(O.loading(!1),t(),O.calculateProperties())})}function E(b){return J[0]?M.length&&!N.shouldLoadBottom()?D(b):P(function(c){return b&&b!==I||a.$$destroyed?void 0:(c.length<q&&(M.eof=!0),c.length>0&&(N.clipTop(),M.append(c)),M.setUpper(),D(b))}):M.length&&!N.shouldLoadTop()?D(b):Q(function(c){return b&&b!==I||a.$$destroyed?void 0:(c.length<q&&(M.bof=!0),c.length>0&&(M.length&&N.clipBottom(),M.prepend(c)),M.setLower(),D(b))})}function F(){c.$$phase||O.isLoading||(O.sCount++,N.shouldLoadBottom()?x(I,!0):N.shouldLoadTop()&&x(I,!1),J.length?u():(O.calculateProperties(),a.$apply()))}function G(a){var b=N[0].scrollTop,c=N[0].scrollHeight-N[0].clientHeight;(0===b&&!M.bof||b===c&&!M.eof)&&a.preventDefault()}s=s||m;var H=function(){function c(){return angular.isObject(d)&&angular.isFunction(d.get)}var d=k(p)(a);if(!c()&&(d=b.get(p),!c()))throw new Error(p+" is not a valid datasource");return d}(),I=0,J=[],K=new e.Cache,L=new d.ElementRoutines(b),M=new f.Buffer(L,o,a,s,q),N=new g.Viewport(L,M,K,l,r,n),O=new h.Adapter(k,n,N,M,function(){v(),C(I)}),P=function(){return 2!==H.get.length?function(a){return H.get(M.next,q,a)}:function(a){return H.get({index:M.next,append:M.length?M[M.length-1].item:void 0,count:q},a)}}(),Q=function(){return 2!==H.get.length?function(a){return H.get(M.first-q,q,a)}:function(a){return H.get({index:M.first-q,prepend:M.length?M[0].item:void 0,count:q},a)}}();if(n.adapter){var R=k(n.adapter)(a);angular.isObject(R)||(k(n.adapter).assign(a,{}),R=k(n.adapter)(a)),O=angular.extend(R,O)}s(a.$new(),function(a,b){N.createPaddingElements(a[0]),b.$destroy(),a.remove()}),O.reload=w,N.bind("mousewheel",G),a.$on("$destroy",function(){M.clear(),u(),N.unbind("mousewheel",G)}),function(){function b(a){throw new Error(a+" event is no longer supported - use applyUpdates instead")}var c=H.scope?H.scope.$new():a.$new();c.$on("insert.item",function(){return b("insert")}),c.$on("update.items",function(){return b("update")}),c.$on("delete.items",function(){return b("delete")})}(),w()}}return{require:["?^uiScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:l}}];c.uiScroll=i},{"./misc/adapter.js":1,"./misc/buffer.js":2,"./misc/cache.js":3,"./misc/elementRoutines.js":4,"./misc/viewport.js":5}],8:[function(a,b,c){"use strict";var d=a("./modules/ui-scroll-viewport.js"),e=a("./modules/ui-scroll.js");angular.module("ui.scroll",[]).directive("uiScrollViewport",d.uiScrollViewport).directive("uiScroll",e.uiScroll)},{"./modules/ui-scroll-viewport.js":6,"./modules/ui-scroll.js":7}]},{},[8])}();